/*
 * bbo
 * bbo is a useful utility collection library  with zero dependencies.
 * (c) 2011-2020 halld
 * https://github.com/tnfe/bbo.git
 * version 1.1.16
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).bbo=t()}(this,(function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function t(e,t){return o(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||a()}function n(e){return o(e)||i(e)||a()}function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){if(Array.isArray(e))return e}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var u=null;var c=null!==u?u:u="object"==typeof global&&global.Object===Object?global:"object"==typeof self&&self.Object===Object?self:new Function("return this")(),s=c.v;function l(e){return e?window.navigator.userAgent.toLowerCase():window.navigator.userAgent}function f(){return/iPad|iPhone|iPod/.test(l())}function d(){return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(l("l"))}function h(){var e=l(),t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0?parseInt(l.substring(r+5,e.indexOf(".",r)),10):""}function p(e,t,n){e.setAttribute(t,n)}function v(e,t,n,r){var o=document.createElement(e);return t&&p(o,"class",t),n&&(o.innerHTML=n),r&&p(o,"id",r),o}function g(e){return document.getElementById(e)}function m(e,t){return Array.prototype.slice.call(e,t||0)}var y={};var w=()=>{};var b={clear:function(){for(var e in b)"log"!==e&&"clear"!==e&&delete b[e]},log:function(){for(var e in b)"log"!==e&&"clear"!==e&&console.log("bbo.trash:: ",e,b[e])}};function x(e,t,n){e.style[t]=n}var O=(e,t,n)=>{if(document.createEventObject){var r=document.createEventObject();return e.fireEvent("on"+t,r)}var o=document.createEvent(n||"HTMLEvents");o.initEvent(t,!0,!0),e.dispatchEvent(o)};function S(e){var t,n=String(e),r=0;if(0===n.length)return r;for(t=0;t<n.length;t++)r=(r<<5)-r+n.charCodeAt(t),r|=0;return r}var j=(e,t)=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase()===t;function C(e,t,n){if(!j(t,"array"))return!1;for(var r in t)if(n){if(e===t[r])return!0}else if(e===t[r])return!0;return!1}function E(e){return Object.prototype.toString.call(e)}function I(e){return"[object Function]"===E(e)}function A(e){return"[object Object]"===E(e)}function M(e){return"[object Array]"===E(e)}function T(e,t){var n=0;if(M(e))for(;n<e.length;){if(!1===t(e[n],n,e))break;n+=1}else if(A(e))for(var r=Object.keys(e);n<r.length;){var o=r[n];if(!1===t(e[o],o,e))break;n+=1}}function _(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function k(e,t){if(_(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;){if(!hasOwnProperty(t,n[o])||!_(e[n[o]],t[n[o]]))return!1;o+=1}return!0}function P(e,t){var n=-1;return T(e,(e,r,o)=>{if(I(t)){if(!0===t(e,r,o))return n=r,!1}else{if(_(e,t))return n=r,!1;if(A(e)&&A(t)){var i=!0;if(T(t,(t,n)=>i=k(e[n],t)),i)return n=r,!1}}}),n}function R(){this.__events={}}var N=R.prototype;N.on=function(e,t){if(e&&t){if(!function e(t){return!!I(t)||!(!t||!A(t))&&e(t.listener)}(t))throw new TypeError("listener is a function");var n=this.__events,r=n[e]=n[e]||[],o=A(t);if(-1===P(r,t)){var i={listener:t,once:!1};r.push(o?t:i),console.log(r)}return this}},N.once=function(e,t){return this.on(e,{listener:t,once:!0})},N.off=function(e,t){var n=this.__events[e];if(n){for(var r,o=0,i=n.length;o<i;o++)if(n[o]&&n[o].listener===t){r=o;break}return void 0!==r&&n.splice(r,1,null),this}},N.emit=function(e,t){var n=this.__events[e];if(n){for(var r=0;r<n.length;r++){var o=n[r];o&&(o.listener.apply(this,t||[]),o.once&&this.off(e,o.listener))}return this}},N.allOff=function(e){e&&this.__events[e]?this.__events[e]=[]:this.__events={}};var $=e=>A(e)&&!e.hasOwnProperty?{...e}:e,L=e=>e instanceof Date,U=e=>0===Object.keys(e).length,D=(e,t)=>{if(e===t)return{};if(!A(e)||!A(t))return t;var n=$(e),r=$(t),o=Object.keys(n).reduce((e,t)=>r.hasOwnProperty(t)?e:{...e,[t]:void 0},{});return L(n)||L(r)?n.valueOf()==r.valueOf()?{}:r:Object.keys(r).reduce((e,t)=>{if(!n.hasOwnProperty(t))return{...e,[t]:r[t]};var o=D(n[t],r[t]);return A(o)&&U(o)&&!L(o)?e:{...e,[t]:o}},o)},B=(e,t)=>{if(e===t||!A(e)||!A(t))return{};var n=$(e),r=$(t);return Object.keys(r).reduce((e,t)=>{if(n.hasOwnProperty(t)){var o=B(n[t],r[t]);return A(o)&&U(o)?e:{...e,[t]:o}}return{...e,[t]:r[t]}},{})},F=(e,t)=>{if(e===t||!A(e)||!A(t))return{};var n=$(e),r=$(t);return Object.keys(n).reduce((e,t)=>{if(r.hasOwnProperty(t)){var o=F(n[t],r[t]);return A(o)&&U(o)?e:{...e,[t]:o}}return{...e,[t]:void 0}},{})},q=(e,t)=>{if(e===t)return{};if(!A(e)||!A(t))return t;var n=$(e),r=$(t);return L(n)||L(r)?n.valueOf()==r.valueOf()?{}:r:Object.keys(r).reduce((e,t)=>{if(n.hasOwnProperty(t)){var o=q(n[t],r[t]);return A(o)&&U(o)&&!L(o)?e:{...e,[t]:o}}return e},{})};function z(e,t){var n=this;n.img=new Image;var r=function(){a(),console.info("onReadyStateChange"),t(n,"onReadyStateChange")},o=function(){console.info("onError"),a(),t(n,"onError")},i=function(){a(),t(n,"onload")},a=function(){n.unbind("load",i),n.unbind("readystatechange",r),n.unbind("error",o)};this.start=function(){this.bind("load",i),this.bind("readystatechange",r),this.bind("error",o),this.img.src=e,n.img.complete&&(a(),t(this,"onload"))}}function W(e){return"[object String]"===E(e)}z.prototype.bind=function(e,t){this.img.addEventListener?this.img.addEventListener(e,t,!1):this.img.attachEvent&&this.img.attachEvent("on"+e,t)},z.prototype.unbind=function(e,t){this.img.removeEventListener?this.img.removeEventListener(e,t,!1):this.img.detachEvent&&this.img.detachEvent("on"+e,t)};var J={urls:{},logs:{}},H=function(e,t){for(var n=0;n<e.length;n++)G(e[n],o);var r=0;function o(){++r>=e.length&&t&&t()}},G=function(e,t){var n=v("script");p(n,"type","text/javascript"),p(n,"src",e),p(n,"charset","utf-8"),document.getElementsByTagName("head")[0].appendChild(n),/msie/.test(l("l"))?n.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||t()}:/gecko/.test(l("l"))?n.onload=function(){t()}:setTimeout((function(){t()}),50)};var V=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n="",r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n};var X=e=>{if(!e)return null;if("string"!=typeof e)return j(e.json,"function")?e.json():e;try{return JSON.parse(e)}catch(t){return new Function("return "+("("+e+")"))()}};var Z=(e,t,n)=>{var r=n&&n.raw?t:encodeURIComponent(t),o=encodeURIComponent(e)+"="+r;if(n){if(n.days){var i=new Date,a=24*n.days*3600*1e3;i.setTime(i.getTime()+a),o+="; expires="+i.toGMTString()}else if(n.hour){var u=new Date,c=3600*n.hour*1e3;u.setTime(u.getTime()+c),o+="; expires="+u.toGMTString()}else{var s=new Date;s.setTime(s.getTime()+31536e7),o+="; expires="+s.toGMTString()}n.path&&(o+="; path="+n.path),n.domain&&(o+="; domain="+n.domain),n.secure&&(o+="; true")}document.cookie=o},Q=e=>{Z(e,"",{hour:-1})};function K(e,t){return-1!==String(e).indexOf(t)}var Y=window.localStorage,ee=window.sessionStorage;class te{constructor(e){var t=e.type,n=void 0===t?"local":t,r=e.prefix,o=void 0===r?"bbo.storage":r,i=e.message,a=void 0===i?{setItem:"write in",getItem:"read",removeAll:"remove all",removeItem:"remove item"}:i;this.prefix=o,this.type=n,this.message=a,"local"===n?this._storage=Y:"session"===n&&(this._storage=ee)}doItem(e,t){try{if("function"==typeof e)return e()}catch(e){return this._warn(t),null}return!0}setItem(e,t){"object"==typeof e?Object.keys(e).forEach((t,n)=>{this.doItem(()=>this._storage.setItem(`${this.prefix}.${t}`,JSON.stringify(e[t])),"setItem")}):this.doItem(()=>this._storage.setItem(`${this.prefix}.${e}`,JSON.stringify(t)),"setItem")}has(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((e,t)=>this._storage.getItem(`${this.prefix}.${e}`))}get(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((t,n)=>{if("null"!==`${this._storage.getItem(`${this.prefix}.${t}`)}`)try{e[t]=JSON.parse(this._storage.getItem(`${this.prefix}.${t}`))}catch(e){console.warn(this._warn("getItem"))}}),e}getItem(e){return this.doItem(()=>JSON.parse(this._storage.getItem(`${this.prefix}.${e}`)),"getItem")}removeAll(){Object.keys(this._storage).forEach(e=>{K(e,this.prefix)&&this._remove(`${e}`)})}removeItem(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t),t.forEach((e,t)=>this.doItem(()=>this._storage.removeItem(`${this.prefix}.${e}`),"removeItem"))}_warn(e){var t=this.message;console.warn(`Unable to ${t[e]||""} ${this.type} Storage`)}_remove(e){this.doItem(()=>this._storage.removeItem(`${e}`),"removeItem")}}var ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=t.split("?");if(n.length>=2){for(var r=encodeURIComponent(e)+"=",o=n[1].split(/[&;]/g),i=o.length;i-- >0;)-1!==o[i].lastIndexOf(r,0)&&o.splice(i,1);return n[0]+(o.length>0?"?"+o.join("&"):"")}return t},re=e=>Array.isArray(e)?e.map((function(e){return e.name+"="+e.value})).join("&"):re(oe(e)),oe=e=>{var t=[];return Object.keys(e).forEach((function(n){Array.isArray(e[n])?t=t.concat(e[n].map((function(e){return{name:n,value:e}}))):t.push({name:n,value:e[n]})})),t};function ie(e){var t=parseFloat(e);return t<10?"0"+t:t}var ae=setTimeout;function ue(e,t){var n=t.useCachedSetTimeout?ae:setTimeout;return new Promise(t=>{n(t,e)})}var ce=(e,t,n)=>{var r=Math.random()*(t-e)+e;return n?Math.floor(r):r};var se=".".charCodeAt(0),le=/\\(\\)?/g,fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g;function de(e){var t=[];return e.charCodeAt(0)===se&&t.push(""),e.replace(fe,(e,n,r,o)=>{var i=e;r?i=o.replace(le,"$1"):n&&(i=n.trim()),t.push(i)}),t}function he(e){return W(e)?de(e):[]}function pe(e){if("string"==typeof e.source.flags)return e.source.flags;var t=[];return e.global&&t.push("g"),e.ignoreCase&&t.push("i"),e.multiline&&t.push("m"),e.sticky&&t.push("y"),e.unicode&&t.push("u"),t.join("")}function ve(e,t,n){var r,o,i,a,u,c,s=0,l=!1,f=!1,d=!0,h=!t&&0!==t&&"function"==typeof requestAnimationFrame;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,s=t,a=e.apply(i,n)}function v(e,t){return h?(cancelAnimationFrame(u),requestAnimationFrame(e)):setTimeout(e,t)}function g(e){return s=e,u=v(y,t),l?p(e):a}function m(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-s>=i}function y(){var e=Date.now();if(m(e))return function(e){if(u=void 0,d&&r)return p(e);return r=o=void 0,a}(e);u=v(y,function(e){var n=e-s,r=t-(e-c);return f?Math.min(r,i-n):r}(e))}return t=+t||0,A(n)&&(l=!!n.leading,i=(f="maxWait"in n)?Math.max(+n.maxWait||0,t):i,d="trailing"in n?!!n.trailing:d),function(){for(var e=Date.now(),n=m(e),i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];if(r=s,o=this,c=e,n){if(void 0===u)return g(c);if(f)return u=v(y,t),p(c)}return void 0===u&&(u=v(y,t)),a}}function ge(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1_$2").toLowerCase()}function me(e,t){return!!e.splice(t,1).length}var ye={version:"1.1.16",noConflict:function(){return this===c.v&&(c.v=s),this},ua:l,isIos:f,isIOS:f,isiPhone:function(){return/iPhone/.test(l())},isIPad:function(){return/iPad/.test(l())},isAndroid:function(){return l("l").indexOf("android")>-1},isMobile:d,isPC:function(){return!d()},isWeixin:function(){return/MicroMessenger/i.test(l("l"))},isNewsApp:function(){return/qqnews/.test(l())},isQQ:function(){return/qq\//.test(l())},mqqbrowser:function(){return/mqqbrowser\//.test(l())},isTenvideo:function(){return/qqlivebrowser/.test(l("l"))},isWeiShi:function(){return/weishi/.test(l("l"))},isIphoneXmodel:function(){if("undefined"!=typeof window&&window){var e=window,t=e.devicePixelRatio,n=e.screen,r=n.width,o=n.height;return[{devicePixelRatio:3,width:375,height:812},{devicePixelRatio:3,width:414,height:896},{devicePixelRatio:2,width:414,height:896}].some(e=>e.devicePixelRatio===t&&e.width===r&&e.height===o)}return!1},ieVersion:h,isIE:function(){return h()>0},log:function(e,t){var n=g("_bbo_log");if(null===n&&(p(n=v("div"),"id","_bbo_log"),p("style","position:fixed;left:0;top:0;z-index:9999;padding:4px;"),document.body.appendChild(n)),t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.style[r]=t[r]);n.innerHTML=e},logs:function(){if(window.console&&window.console.log){var e=String(arguments[0]),t=parseInt(e.split("&")[1],10)||10,n=y;n[e]||(n[e]={}),n[e].once||(n[e].once=1),n[e].once<=t&&(console.log.apply(console,m(arguments,1)),n[e].once++)}},removeConsole:function(e){try{window.console||(window.console={}),window.console.log=window.console.info=window.console.dir=window.console.warn=window.console.trace=w,"clear"===e&&window.console.clear&&window.console.clear()}catch(e){}},args:m,trash:b,noop:w,merge:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[].concat(t).reduce((e,t)=>Object.keys(t).reduce((n,r)=>(e[r]=e.hasOwnProperty(r)?[].concat(e[r]).concat(t[r]):t[r],e),{}),{})},over:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.map(e=>e.apply(null,n))}},call:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return t=>t[e].apply(t,n)},trigger:O,stopPropagation:e=>{var t=e||window.event;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},g:g,gc:function(e){return document.getElementsByClassName(e)},c:v,query:function(e){return document.querySelector(e)},show:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[].concat(t).forEach(e=>{e.style.display=""})},hide:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[].concat(t).forEach(e=>{e.style.display="none"})},elementContains:(e,t)=>e!==t&&e.contains(t),getStyle:(e,t)=>getComputedStyle(e)[t],setStyle:x,attr:p,uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},hash:S,judge:C,judgment:C,getType:e=>void 0===e?"undefined":null===e?"null":e.constructor.name.toLowerCase(),isTypeof:j,construct:function(){var e=arguments[0];return new(Function.prototype.bind.apply(e,arguments))},paramsName:function(e){return/\(\s*([\s\S]*?)\s*\)/.exec(e.toString())[1].split(/\s*,\s*/)},eventEmitter:R,properObject:$,objectDiff:D,addedDiff:B,deletedDiff:F,updatedDiff:q,detailedDiff:(e,t)=>({added:B(e,t),deleted:F(e,t),updated:q(e,t)}),loadImages:function(e){var t,n=0,r=0,o=null,i=0,a=0,u=e.data||[],c=e.step||function(){},s=e.complete||function(){},l=e.needOneStep||!1,f=e.path||!1;if("object"!=typeof u||0===u.length)return c(100),!1;if(t=u.length,f)for(var d=t-1;d>-1;d--)u[d]=f+u[d];var h=function(){i++,c(i),i<a?o=setTimeout((function(){h()}),5):100===a&&i===a&&s&&"function"==typeof s&&s()};function p(){r++,a=Math.floor(r/t*100),l?(o&&clearTimeout(o),h()):(c(a),100===a&&s())}for(;n<t;n++){new z(u[n],p).start()}},loadjs:function(e,t,n){var r,o;I(t)?(r=String(S(String(e))),o=t):void 0===t?(r=String(S(String(e))),o=null):(r=String(t),o=n),J.urls[r]?o&&o():(W(e)?G:H).call(this,e,(function(){J.urls[r]=!0,o&&o()}))},loadcss:function(e,t){var n,r,o=[],i=[],a=!1,u=!1;function c(){a=!0;for(var e=0,t=o.length;e<t;e++)o[e]()}function s(){u=!0;for(var e=0,t=i.length;e<t;e++)i[e]()}r="load-css-"+V(5),n={done:function(e){return o.push(e),a&&e(),n},fail:function(e){return i.push(e),u&&e(),n}};var l=v("link");return p(l,"id",r),p(l,"rel","stylesheet"),p(l,"type","text/css"),void 0!==l.addEventListener?(l.addEventListener("load",c,!1),l.addEventListener("error",s,!1)):void 0!==l.attachEvent&&l.attachEvent("onload",(function(){var e=document.styleSheets.length;try{for(;e--;)if(document.styleSheets[e].id===r)return void c()}catch(e){}a||s()})),document.getElementsByTagName("head")[0].appendChild(l),p(l,"href",e),n},toJson:X,toJSON:X,tojson:X,jsonp:function(e,t,n){I(t)&&(n=t,t={}),t||(t={});var r,o,i=t.prefix||"bbo",a=t.name||i+V(10),u=t.param||"callback",c=null!=t.timeout?t.timeout:6e4,s=encodeURIComponent,l=document.getElementsByTagName("script")[0]||document.head;function f(){r.parentNode&&r.parentNode.removeChild(r),window[a]=void 0,o&&clearTimeout(o)}return c&&(o=setTimeout((function(){f(),n&&n(new Error("Timeout"))}),c)),window[a]=function(e){f(),n&&n(e,null)},e=(e+=(~e.indexOf("?")?"&":"?")+u+"="+s(a)).replace("?&","?"),(r=document.createElement("script")).src=e,l.parentNode.insertBefore(r,l),function(){window[a]&&f()}},cookie:()=>{function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(r,n)&&(t[r]=n[r])}return t}return function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){var u=e({path:"/"},r.defaults,i);if("number"==typeof u.expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*u.expires),u.expires=c}var s=o;try{a=JSON.stringify(s),/^[\{\[]/.test(a)&&(s=a)}catch(e){}s=n.write?n.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);var l=encodeURIComponent(String(t)),f=l.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),d=f.replace(/[\(\)]/g,escape),h=document.cookie=[d,"=",o,i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("");return h}t||(a={});for(var p=document.cookie?document.cookie.split("; "):[],v=/(%[0-9A-Z]{2})+/g,g=0;g<p.length;g++){var m=p[g].split("="),y=m.slice(1).join("=");'"'===y.charAt(0)&&(y=y.slice(1,-1));try{var w=m[0].replace(v,decodeURIComponent);y=n.read?n.read(y,w):n(y,w)||y.replace(v,decodeURIComponent);try{y=JSON.parse(y)}catch(e){console.log(e)}if(t===w){a=y;break}t||(a[w]=y)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=r.getjson=r.getJson=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}((function(){}))},setCookie:Z,getCookie:e=>{for(var t=encodeURIComponent(e)+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return null},deleteCookie:Q,delCookie:Q,parseCookie:e=>e.split(";").map(e=>e.split("=")).reduce((e,t)=>(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim()),e),{}),storage:e=>{var t=e.type,n=e.prefix;return new te({type:t,prefix:n})},open:e=>{var t="_bbo_open_proxy",n=g(t)||v("a",t,"",t);x(n,"display","none"),p(n,"href",e),p(n,"target","_blank"),n.parentNode||document.body.appendChild(n),O(n,"click","MouseEvents")},getUrlParam:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},setUrlParam:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.href,r=new RegExp("([?|&])"+e+"=.*?(&|#|$)","i");if(n.match(r))return n.replace(r,"$1"+e+"="+encodeURIComponent(t)+"$2");var o="";-1!==n.indexOf("#")&&(o=n.replace(/.*#/,"#"),n.replace(/#.*/,""));var i=-1!==n.indexOf("?")?"&":"?";return n+i+e+"="+encodeURIComponent(t)+o},deleteUrlParam:ne,delUrlParam:ne,objectParam:re,httpGet:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.error,r=new XMLHttpRequest;r.open("GET",e,!0),r.onload=()=>t(r.responseText),r.onerror=()=>n(r),r.send()},httpPost:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.error,o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-type","application/json; charset=utf-8"),o.onload=()=>n(o.responseText),o.onerror=()=>r(o),o.send(t)},setTimesout:function(){var e=arguments[0],t=void 0===arguments[1]?0:parseFloat(arguments[1]),n=void 0===arguments[2]?1:parseInt(arguments[2],10),r=arguments.length>3?m(arguments,3):null,o={index:0,times:n,over:!1},i=setInterval((function(){o.index++,o.index>n?clearInterval(i):(o.index===n&&(o.over=!0),e.apply(o,r))}),t);return i},clearTimesout:function(e){clearInterval(e)},getDate:(e,t)=>{var n=new Date,r=n.getDate(),o=n.getMonth()+1,i=n.getFullYear(),a=n.getHours(),u=n.getMinutes(),c=n.getSeconds();r=ie(r);var s=e||"/",l=t||":";return i+s+(o=ie(o))+s+r+" "+(a=ie(a))+l+(u=ie(u))+l+(c=ie(c))},formatPassTime:e=>{var t=Date.parse(new Date)-e,n=parseInt(t/864e5,10),r=parseInt(t/36e5,10),o=parseInt(t/6e4,10),i=parseInt(n/30,10),a=parseInt(i/12,10);return a?a+"年前":i?i+"个月前":n?n+"天前":r?r+"小时前":o?o+"分钟前":"刚刚"},formatRemainTime:e=>{var t=new Date,n=new Date(e).getTime()-t.getTime(),r=0,o=0,i=0,a=0;return n>=0&&(r=Math.floor(n/1e3/3600/24),o=Math.floor(n/1e3/60/60%24),i=Math.floor(n/1e3/60%60),a=Math.floor(n/1e3%60)),r+"天 "+o+"小时 "+i+"分钟 "+a+"秒"},formatDuration:e=>{e<0&&(e=-e);var n={day:Math.floor(e/864e5),hour:Math.floor(e/36e5)%24,minute:Math.floor(e/6e4)%60,second:Math.floor(e/1e3)%60,millisecond:Math.floor(e)%1e3};return Object.entries(n).filter(e=>0!==e[1]).map(e=>{var n=t(e,2),r=n[0],o=n[1];return`${o} ${r}${1!==o?"s":""}`}).join(", ")},sleep:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useCachedSetTimeout,r=ue(e,{useCachedSetTimeout:n});function o(e){return r.then(()=>e)}return o.then=function(){return r.then.apply(r,arguments)},o.catch=Promise.resolve().catch,o},fill0:ie,floor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(e*Math.pow(10,t))/Math.pow(10,t)},chainAsync:e=>{var t=0,n=e[e.length-1],r=()=>{var o=e[t++];o===n?o():o(r)};r()},numberFormat:(e,t,n,r)=>{var o=String(e).replace(/[^0-9+\-Ee.]/g,""),i=t,a=isFinite(Number(o))?Number(o):0,u=isFinite(Number(i))?Math.abs(i):0,c=void 0===r?",":r,s=void 0===n?".":n,l="";return(l=(u?function(e,t){if(-1===String(e).indexOf("e"))return Number(Math.round(e+"e+"+t)+"e-"+t);var n=String(e).split("e"),r="";return Number(n[1])+t>0&&(r="+"),Number(Math.round(Number(n[0])+"e"+r+(Number(n[1])+t))+"e-"+t).toFixed(t)}(a,u).toString():String(Math.round(a))).split("."))[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,c)),(l[1]||"").length<u&&(l[1]=l[1]||"",l[1]+=new Array(u-l[1].length+1).join("0")),l.join(s)},modulo:function(e,t){return 0===t?e:t<0?NaN:(e%t+t)%t},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},randomA2B:ce,randomFromA2B:ce,randomKey:V,lockTouch:()=>{function e(e,t){return e.target.tagName!==t.toUpperCase()&&e.target.tagName!==t.toLowerCase()}function t(t){e(t,"input")&&e(t,"textarea")&&e(t,"select")&&e(t,"menus")&&t.preventDefault()}document.addEventListener("touchmove",(function(e){e.preventDefault()}),!1),document.addEventListener("touchstart",t,!1),document.addEventListener("touchend",t,!1)},copyToClipboard:function(e){var t=document.createElement("textarea");t.value=e,p(t,"readonly",""),x(t,"position","absolute"),x(t,"left","-9999px"),document.body.appendChild(t);var n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))},checkImageSize:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((r,o)=>{if(e instanceof File){var i=new FileReader;i.onload=function(){a(this.result)},i.readAsDataURL(e)}else"string"==typeof e&&a(e);function a(e){var o=new Image;o.src=e,o.onload=function(){var e=this.naturalWidth,o=this.naturalHeight;t.width&&Math.abs(t.width-e)>n&&r(!1),t.height&&Math.abs(t.height-o)>n&&r(!1),r(!0)}}})},imageOptimization:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.maxWidth,o=void 0===r?1920:r,i=n.mimeType;return new Promise((n,r)=>{if(e instanceof File){var a=new FileReader;a.onload=function(){u(this.result)},a.readAsDataURL(e)}else"string"==typeof e&&u(e);function u(a){var u=a.match(/data:([^;,]+)/);if(Array.isArray(u)){if("image/gif"===(i||u[1]))return n(e);var c=new Image;c.src=a,c.onload=function(){var e=this.naturalWidth,r=this.naturalHeight;e>o&&(r=Math.round(o*r/e),e=o);var a=document.createElement("canvas");a.width=e,a.height=r,a.getContext("2d").drawImage(this,0,0,e,r),a.toBlob(e=>{n(e)},i||u[1],t)}}else r(new Error("Non-picture type Data URLs"))}})},getTag:E,hasOwnProperty:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},isObject:A,isDate:L,isArray:M,isString:W,isBoolean:function(e){return"[object Boolean]"===E(e)},isNumber:function(e){return"[object Number]"===E(e)},isMap:function(e){return"[object Map]"===E(e)},isSet:function(e){return"[object Set]"===E(e)},isSymbol:function(e){return"[object Symbol]"===E(e)},isFunction:I,isEmpty:U,isShallowEqual:k,has:function(e,t){if(!A(e))return!1;M(t)||(t=he(t));for(var n=-1,r=t.length,o=!1;++n<r;){var i=String(t[n]);if(!(o=null!=e&&hasOwnProperty(e,i)))break;e=e[i]}return!(!o&&++n==r)&&o},reduce:function(e,t){var n=0,r=arguments[2];if(M(e)){for(3!==arguments.length&&(r=e[0]);n<e.length;)r=t(r,e[n],n,e),n+=1;return r}if(A(e)){var o=Object.keys(e);for(3!==arguments.length&&(r=e[o[0]]);n<o.length;){var i=o[n];r=t(r,e[i],i,e),n+=1}return r}return r},deepClone:function e(t){if(I(t))return t;var n=M(t)?[]:{};for(var r in t){var o=t[r],i={}.toString.call(o).slice(8,-1);n[r]="Array"==i||"Object"==i?e(o):"Date"==i?new Date(o.getTime()):"RegExp"==i?RegExp(o.source,pe(o)):o}return n},forEach:T,map:function(e,t){var n=[],r=0;if(M(e))for(;r<e.length;)n.push(t(e[r],r,e)),r+=1;else if(A(e))for(var o=Object.keys(e);r<o.length;){var i=o[r];n.push(t(e[i],i,e)),r+=1}return n},findIndex:P,find:function(e,t){var n=void 0;return T(e,(e,r,o)=>{if(I(t)){if(!0===t(e,r,o))return n=e,!1}else{if(_(e,t))return n=e,!1;if(A(e)&&A(t)){var i=!0;if(T(t,(t,n)=>i=k(e[n],t)),i)return n=e,!1}}}),n},toPath:he,get:function(e,t,n){if(null==e)return n;if(!Array.isArray(t)){var r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t=function(e,t){var n=typeof e;return"number"==n||"boolean"==n||null==e||(o.test(e)||!r.test(e)||null!=t&&e in Object(t))}(t,e)?[t]:de(t)}for(var i=0,a=t.length;null!=e&&i<a;)e=e[t[i]],i+=1;return i&&i===a?void 0===e?n:e:n},debounce:ve,throttle:function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return A(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ve(e,t,{leading:r,trailing:o,maxWait:t})},pick:(e,t)=>t.reduce((t,n)=>(n in e&&(t[n]=e[n]),t),{}),omit:(e,t)=>Object.keys(e).filter(e=>!t.includes(e)).reduce((t,n)=>(t[n]=e[n],t),{}),trim:function(e){return U(e)?e:e.replace(/(^\s*)|(\s*$)/g,"")},fillZero:function(e,t){return(new Array(t).join("0")+e).slice(-t)},longUnique:function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]||(t[e[n]]=-1);for(var r="",o=0;o<e.length;o++)t[e[o]]&&(t[e[o]]=0,r+=e[o]);return r},stripTags:function(e){return e.replace(/<script[^>]*>(\S\s*?)<\/script>/gim,"").replace(/<[^>]+>/g,"")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},deCapitalize:function(e){var t=n(e),r=t[0],o=t.slice(1),i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.toLowerCase()+(i?o.join("").toUpperCase():o.join(""))},isAbsoluteURL:e=>/^[a-z][a-z0-9+.-]*:/.test(e),mapString:(e,t)=>e.split("").map((n,r)=>t(n,r,e)).join(""),mask:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return`${e}`.slice(-t).padStart(`${e}`.length,n)},splitLines:function(e){e.split(/\r?\n/)},camelize:function(e){return e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,(function(e){return e.charAt(1).toUpperCase()}))},underscored:ge,dasherize:function(e){return ge(e).replace(/_/g,"-")},truncate:(e,t)=>e.length>t?e.slice(0,t>3?t-3:t)+"...":e,byteSize:function(e){return new Blob([e]).size},byteLen:function(e,t){var n,r,o,i=0,a=t?t.toLowerCase():"";if("utf-16"===a||"utf16"===a)for(r=0,o=e.length;r<o;r++)i+=(n=e.charCodeAt(r))<=65535?2:4;else for(r=0,o=e.length;r<o;r++)i+=(n=e.charCodeAt(r))<=127?1:n<=2047?2:n<=65535?3:4;return i},repeat:function(e,t){for(var n=e,r="";t>0&&(t%2==1&&(r+=n),1!==t);)n+=n,t>>=1;return r},endsWith:function(e,t,n){var r=e.slice(-t.length);return n?r.toLowerCase()===t.toLowerCase():r===t},startsWith:function(e,t,n){var r=e.slice(0,t.length);return n?r.toLowerCase()===t.toLowerCase():r===t},containsWith:K,xssFilter:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},effortIndex:function(e,t){return String(e).indexOf(t)},capwords:function(e){return String(e).replace(/^([a-z\u00E0-\u00FC])|\s+([a-z\u00E0-\u00FC])/g,(function(e){return e.toUpperCase()}))},unique:e=>r(new Set(e)),uniqueBy:(e,t)=>e.reduce((e,n)=>(e.some(e=>t(n,e))||e.push(n),e),[]),uniqueFrom:function(t,n){return Object.values(t.reduce((t,r)=>e(t,{[r[n]]:r}),{}))},random:e=>e[Math.floor(Math.random()*e.length)],randomSize:function(e){for(var t=n(e),r=t.slice(0),o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=r.length;i;){var a=Math.floor(Math.random()*i--),u=[r[a],r[i]];r[i]=u[0],r[a]=u[1]}return r.slice(0,o)},shuffle:function(e){for(var t=n(e).slice(0),r=t.length;r;){var o=Math.floor(Math.random()*r--),i=[t[o],t[r]];t[r]=i[0],t[o]=i[1]}return t},contains:function(e,t){return e.indexOf(t)>-1},includesAll:(e,t)=>t.every(t=>e.includes(t)),includesAny:(e,t)=>t.some(t=>e.includes(t)),removeAt:me,remove:function(e,t){var n=e.indexOf(t);return n>-1&&me(e,n)},compact:function(e){return e.filter(e=>void 0!==e)},compactAll:e=>e.filter(Boolean),pluck:function(e,t){var n,r=[];return e.forEach((function(e){null!==(n=e[t])&&r.push(n)})),r},union:(e,t)=>Array.from(new Set([].concat(r(e),r(t)))),unionBy:(e,t,n)=>{var o=new Set(e.map(n));return Array.from(new Set([].concat(r(e),r(t.filter(e=>!o.has(n(e)))))))},unionWith:(e,t,n)=>{Array.from(new Set([].concat(r(e),r(t.filter(t=>-1===e.findIndex(e=>n(t,e)))))))},intersect:function(e,t){var n=new Set(t);return e.filter(e=>n.has(e))},intersectBy:function(e,t,n){var r=new Set(t.map(n));return e.filter(e=>r.has(n(e)))},difference:function(e,t){var n=new Set(t);return e.filter(e=>!n.has(e))},differenceBy:function(e,t,n){var r=new Set(t.map(n));return e.map(n).filter(e=>!r.has(e))},max:function(e){return Math.max.apply(0,e)},min:function(e){return Math.min.apply(0,e)},equal:function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},allEqual:e=>e.every(t=>t===e[0]),all:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;return e.every(t)},any:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean;return e.some(t)},chunk:(e,t)=>{Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t))},countBy:(e,t)=>{e.map("function"==typeof t?t:e=>e[t]).reduce((e,t)=>(e[t]=(e[t]||0)+1,e),{})},countOccurrences:(e,t)=>{e.reduce((e,n)=>n===t?e+1:e,0)},drop:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.slice(t)},dropRight:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.slice(0,-t)},dropWhile:function(e,t){for(var n=e;n.length>0&&!t(n[0]);)n=n.slice(1);return n},dropRightWhile:function(e,t){for(var n=e.length;n--&&!t(e[n]););return e.slice(0,n+1)},column:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!==t&&(A(t)||M(t))){var o=[];if(A(t)){var i=[];for(var a of Object.keys(t))i.push(t[a]);t=i}if(M(t))for(var u of t.keys())r&&t[u][r]?o[t[u][r]]=n?t[u][n]:t[u]:n?o.push(t[u][n]):o.push(t[u]);return e({},o)}},search:function(e,t,n){var r=!!n,o="",i=e;if("object"==typeof i&&i.exec){if(!r){var a="i"+(i.global?"g":"")+(i.multiline?"m":"")+(i.sticky?"y":"");i=new RegExp(i.source,a)}for(o in t)if(t.hasOwnProperty(o)&&i.test(t[o]))return o;return!1}for(o in t)if(t.hasOwnProperty(o)&&(r&&t[o]===e||!r&&t[o]==e))return o;return!1},unary:e=>t=>e(t),indexBy:function(e,t){if(!M(e))throw new Error("expected an array for first argument");if(!W(t))throw new Error("expected a string for second argument");for(var n={},r=e.length,o=0;o<r;o++){var i=e[o]&&e[o][t];i&&(n[i]=e[o])}return n}};function we(e,t){this._wrappedValue=e,this._explicitChain=t}function be(e){return new we(e,!1)}return we.prototype.value=function(){return this._wrappedValue},we.prototype.valueOf=function(){return this.value()},we.prototype.toJSON=function(){return this.value()},we.prototype.toString=function(){return String(this.value())},we.prototype.chain=function(){return new we(this._wrappedValue,!0)},we.prototype.thru=function(e){return"function"==typeof e?new we(e(this._wrappedValue),this._explicitChain):this},we.prototype._explicitChain=!0,Object.keys(ye).forEach((function(e){var t;we.prototype[e]=(t=ye[e],function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=t.apply(void 0,[this._wrappedValue].concat(n));return this._explicitChain||"string"==typeof o?new we(o,this._explicitChain):o})})),e(be,ye,{chain:function(e){return new we(e,!0)}}),be}));
//# sourceMappingURL=bbo.min.js.map
